
# LoginProject

This was the final project for CS-332 Advanced Computing. I had already finished the class work early, so I decided to challenge myself and do something I've never done before. For some reason the thought of doing the project as a mobile app just stuck with me. The task was to connect to a database and calculate the salary after a raise was applied. I had to continually learn new things and adapt when doing this project. If I had to do this project over again, I would make a more concrete plan that I could divide into small parts instead of trying to figure things out every time I hit an obstacle.





The mobile app works by talking to a REST API that I made using Nodejs, ExpressJs and MySql as the database.




# Write up explaining how the whole system works


My plan was to have a login system substitute the searching algorithm. Once you logged in, you would able to see all the salary information.The first problem was being able to connect to a database from my android phone. You obviously cannot use SqlServer natively on the phone. For the purposes of the app it would also not make sense to have a server hosted on the device if it were possible because the user would only need to retrieve their own information. After some research, I found out about (Representational State Transfer) REST Api’s. With REST Api’s, all the requests and transactions between the server and client happen inside certain types of HTTP requests. I first recreated the database in Mysql and also created a new table for passwords hashed with the md5 algorithm along with its corresponding user ID. So, the next question would be how to create a REST API in order to interact with the database.
    To do this, I had used NodeJS along with a few different javascript frameworks and libraries in order to make a server that could connect to my database and then pass back information. Using Express.js, I easily created a server that listened on port 3003. I was using MySql as my database and connecting to it took a little of effort to configure the settings properly. I then created a route called “/post” that would listen to post requests. The server would handle the POST request by first storing the information given to it, in this case it was the user_id and hashed password, and stored them in separate variables. The server then queries the database using the user_id that was given to it from the POST request and checks with the database itself if the password given is the same as the stored password. If it is true, then the user is verified to query the salary information using a GET request. Since the information is first sent as a json array, any strings that were stored are turned into buffer objects and subsequently were represented as hexadecimal characters. After fixing this, I sent the whole json array to the device.  
    On the Android side, the first thing that happens is that the input is needed for the POST request. Once the information is added and the password is hashed, a POST request is sent after the submit button is pressed. This POST request is handled using the volley library’s JsonObjectRequest method. The GET request is already queued up but only executes after the server is done authenticating the user. The response is changed into a string which then gets changed to a JSONArray. In order to access the information within the array, I get the first element of the array and turn that into a JSONobject. I use a method that I created to store the object within the program and switch activities, which in layman’s terms is the current screen, which will display the information after calculating the new salary. Because I used a method to calculate the raise as well as the salary, I would have to return two variables at once. However, the language I am using does not allow you to do so. A work around is to first store the values in a array or object and then return said variable.
    In the new activity, I change the passed in data which I got using an intent into strings as that is the type that is needed in order to change the xml layout or in other words, the text of the display that is shown to the user. The title is seperate from the rest of the data and is displayed by changing the appropriate xml item. The rest of the data is displayed using a modified listView. To do this, I had to use an adapter of the listView that uses its accompanying class which has the title and data passed into it. Within this class, you have to override some of the functions that are pre-built in order to customize the look. The getCount method dictates how many rows there will be. The getView method is what actually displays the information. A different xml file is also used in order to fine tune the look of each of the rows.
    


